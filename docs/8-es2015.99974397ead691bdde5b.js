(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{x4ys:function(t,c,e){"use strict";e.r(c);var i=e("ofXK"),o=e("tyNb"),n=e("fXoL"),r=e("Wp6s"),a=e("kt0X"),s=e("kfsG"),b=e("HKEb"),f=e("v0/F"),m=e("A5HK"),u=e("+0xr"),l=e("bTqV");function p(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Puesto"),n.Wb())}function d(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.job.name," ")}}function h(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Empresa"),n.Wb())}function C(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.company.name," ")}}function X(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Familia"),n.Wb())}function W(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.category.name," ")}}function y(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Fecha"),n.Wb())}function F(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.date," ")}}function B(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Provincia"),n.Wb())}function v(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.province.name," ")}}function D(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Municipio"),n.Wb())}function g(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.municipe.name," ")}}function O(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Inscrito"),n.Wb())}function w(t,c){if(1&t&&(n.Xb(0,"td",14),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.subscribe?"S\xed":"No"," ")}}function E(t,c){1&t&&(n.Xb(0,"th",13),n.Cc(1," Acciones"),n.Wb())}const S=function(t){return[t]};function $(t,c){if(1&t&&(n.Xb(0,"td",14),n.Xb(1,"a",15),n.Cc(2,"Ver Detalle"),n.Wb(),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.oc("routerLink",n.rc(1,S,t.id))}}function R(t,c){1&t&&n.Sb(0,"tr",16)}function V(t,c){1&t&&n.Sb(0,"tr",17)}let j=(()=>{class t{constructor(t,c,e){this.profileService=t,this.offersService=c,this.store=e,this.displayColumns=["job","company","category","date","province","municipe","subscribed","actions"],this.selectOffers()}selectOffers(){this.store.dispatch(s.c.listOffers({})),this.offersStudy$=this.store.pipe(Object(a.r)(b.b)),this.offersOther$=this.store.pipe(Object(a.r)(b.c))}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)(n.Rb(f.a),n.Rb(m.a),n.Rb(a.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-offers-list"]],decls:29,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","job"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","category"],["matColumnDef","date"],["matColumnDef","province"],["matColumnDef","municipe"],["matColumnDef","subscribed"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","","color","primary",2,"cursor","pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(n.Xb(0,"h3"),n.Cc(1,"Cumple con la Titulaci\xf3n (Familia)"),n.Wb(),n.Xb(2,"table",0),n.Vb(3,1),n.Bc(4,p,2,0,"th",2),n.Bc(5,d,2,1,"td",3),n.Ub(),n.Vb(6,4),n.Bc(7,h,2,0,"th",2),n.Bc(8,C,2,1,"td",3),n.Ub(),n.Vb(9,5),n.Bc(10,X,2,0,"th",2),n.Bc(11,W,2,1,"td",3),n.Ub(),n.Vb(12,6),n.Bc(13,y,2,0,"th",2),n.Bc(14,F,2,1,"td",3),n.Ub(),n.Vb(15,7),n.Bc(16,B,2,0,"th",2),n.Bc(17,v,2,1,"td",3),n.Ub(),n.Vb(18,8),n.Bc(19,D,2,0,"th",2),n.Bc(20,g,2,1,"td",3),n.Ub(),n.Vb(21,9),n.Bc(22,O,2,0,"th",2),n.Bc(23,w,2,1,"td",3),n.Ub(),n.Vb(24,10),n.Bc(25,E,2,0,"th",2),n.Bc(26,$,3,3,"td",3),n.Ub(),n.Bc(27,R,1,0,"tr",11),n.Bc(28,V,1,0,"tr",12),n.Wb()),2&t&&(n.Fb(2),n.oc("dataSource",c.offersStudy$),n.Fb(25),n.oc("matHeaderRowDef",c.displayColumns),n.Fb(1),n.oc("matRowDefColumns",c.displayColumns))},directives:[u.j,u.c,u.e,u.b,u.g,u.i,u.d,u.a,l.a,o.h,u.f,u.h],encapsulation:2}),t})();var I=e("AfMR");function k(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Puesto"),n.Wb())}function U(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.job.name," ")}}function L(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Puesto"),n.Wb())}function H(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.company.name," ")}}function P(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Familia"),n.Wb())}function M(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.category.name," ")}}function A(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Fecha"),n.Wb())}function T(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.date," ")}}function K(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Provincia"),n.Wb())}function Y(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.province.name," ")}}function q(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Municipio"),n.Wb())}function x(t,c){if(1&t&&(n.Xb(0,"td",13),n.Cc(1),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.Ec(" ",t.municipe.name," ")}}function J(t,c){1&t&&(n.Xb(0,"th",12),n.Cc(1," Acciones"),n.Wb())}const N=function(t){return["/admin/offers/",t]};function _(t,c){if(1&t&&(n.Xb(0,"td",13),n.Xb(1,"a",14),n.Cc(2,"Ver Detalle"),n.Wb(),n.Wb()),2&t){const t=c.$implicit;n.Fb(1),n.oc("routerLink",n.rc(1,N,t.id))}}function G(t,c){1&t&&n.Sb(0,"tr",15)}function z(t,c){1&t&&n.Sb(0,"tr",16)}let Q=(()=>{class t{constructor(t){this.store=t,this.displayColumns=["job","company","category","date","province","municipe","actions"],this.selectOffers()}selectOffers(){this.store.dispatch(s.c.listOffers({})),this.offers$=this.store.pipe(Object(a.r)(I.c))}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)(n.Rb(a.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-offers-profile"]],decls:24,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","job"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","category"],["matColumnDef","date"],["matColumnDef","province"],["matColumnDef","municipe"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","","color","primary",2,"cursor","pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(n.Xb(0,"table",0),n.Vb(1,1),n.Bc(2,k,2,0,"th",2),n.Bc(3,U,2,1,"td",3),n.Ub(),n.Vb(4,4),n.Bc(5,L,2,0,"th",2),n.Bc(6,H,2,1,"td",3),n.Ub(),n.Vb(7,5),n.Bc(8,P,2,0,"th",2),n.Bc(9,M,2,1,"td",3),n.Ub(),n.Vb(10,6),n.Bc(11,A,2,0,"th",2),n.Bc(12,T,2,1,"td",3),n.Ub(),n.Vb(13,7),n.Bc(14,K,2,0,"th",2),n.Bc(15,Y,2,1,"td",3),n.Ub(),n.Vb(16,8),n.Bc(17,q,2,0,"th",2),n.Bc(18,x,2,1,"td",3),n.Ub(),n.Vb(19,9),n.Bc(20,J,2,0,"th",2),n.Bc(21,_,3,3,"td",3),n.Ub(),n.Bc(22,G,1,0,"tr",10),n.Bc(23,z,1,0,"tr",11),n.Wb()),2&t&&(n.oc("dataSource",c.offers$),n.Fb(22),n.oc("matHeaderRowDef",c.displayColumns),n.Fb(1),n.oc("matRowDefColumns",c.displayColumns))},directives:[u.j,u.c,u.e,u.b,u.g,u.i,u.d,u.a,l.a,o.h,u.f,u.h],encapsulation:2}),t})();function Z(t,c){1&t&&n.Sb(0,"app-offers-list")}function tt(t,c){1&t&&n.Sb(0,"app-offers-profile")}let ct=(()=>{class t{constructor(t){this.route=t,this.isOffersList=!0,this.route.data.subscribe(t=>this.isOffersList=!t.my_offers)}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)(n.Rb(o.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-offers"]],decls:7,vars:2,consts:[[4,"ngIf"]],template:function(t,c){1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"mat-card-header"),n.Xb(2,"mat-card-title"),n.Cc(3,"Ofertas"),n.Wb(),n.Wb(),n.Xb(4,"mat-card-content"),n.Bc(5,Z,1,0,"app-offers-list",0),n.Bc(6,tt,1,0,"app-offers-profile",0),n.Wb(),n.Wb()),2&t&&(n.Fb(5),n.oc("ngIf",c.isOffersList),n.Fb(1),n.oc("ngIf",!c.isOffersList))},directives:[r.a,r.d,r.g,r.c,i.l,j,Q],styles:[""]}),t})();var et=e("dRHq"),it=e("MutI");function ot(t,c){if(1&t){const t=n.Yb();n.Xb(0,"button",2),n.fc("click",(function(c){return n.vc(t),n.jc().subscribeOffer()})),n.Cc(1," Inscribirse "),n.Wb()}}function nt(t,c){if(1&t){const t=n.Yb();n.Xb(0,"button",3),n.fc("click",(function(c){return n.vc(t),n.jc().unsubscribeOffer()})),n.Cc(1," Eliminar oferta "),n.Wb()}}const rt=[{path:"",component:ct},{path:"my-offers",component:ct,data:{my_offers:!0}},{path:":id",component:(()=>{class t{constructor(t,c,e,i,o){this.profileService=t,this.offersService=c,this.route=e,this.router=i,this.store=o,this.user=this.profileService.user,this.route.params.subscribe(t=>{const c=+t.id;this.offer=this.offersService.offers.find(t=>t.id===c)||{},this.isSubscribed$=this.store.pipe(Object(a.r)(I.b,{offerId:this.offer.id}))})}subscribeOffer(){this.store.dispatch(et.c.subscribeToOffer({offerId:this.offer.id})),this.router.navigate(["/admin/profile"])}unsubscribeOffer(){this.store.dispatch(et.c.unsubscribeToOffer({offerId:this.offer.id})),this.router.navigate(["/admin/profile"])}ngOnInit(){}tagsFromOffer(){return this.offer.title.map(t=>t.name).toString()}}return t.\u0275fac=function(c){return new(c||t)(n.Rb(f.a),n.Rb(m.a),n.Rb(o.a),n.Rb(o.f),n.Rb(a.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-offers-detail"]],decls:24,vars:13,consts:[["mat-button","","color","primary","class","btn btn-primary",3,"click",4,"ngIf"],["mat-button","","color","primary","class","btn btn-danger",3,"click",4,"ngIf"],["mat-button","","color","primary",1,"btn","btn-primary",3,"click"],["mat-button","","color","primary",1,"btn","btn-danger",3,"click"]],template:function(t,c){1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"mat-card-header"),n.Xb(2,"mat-card-title"),n.Cc(3,"Detalles de la oferta"),n.Wb(),n.Wb(),n.Xb(4,"mat-card-content"),n.Xb(5,"mat-list"),n.Xb(6,"mat-list-item"),n.Cc(7),n.Wb(),n.Xb(8,"mat-list-item"),n.Cc(9),n.Wb(),n.Xb(10,"mat-list-item"),n.Cc(11),n.Wb(),n.Xb(12,"mat-list-item"),n.Cc(13),n.Wb(),n.Xb(14,"mat-list-item"),n.Cc(15),n.Wb(),n.Xb(16,"mat-list-item"),n.Cc(17),n.Wb(),n.Xb(18,"mat-list-item"),n.Cc(19),n.Wb(),n.Wb(),n.Bc(20,ot,2,0,"button",0),n.kc(21,"async"),n.Bc(22,nt,2,0,"button",1),n.kc(23,"async"),n.Wb(),n.Wb()),2&t&&(n.Fb(7),n.Ec("Empresa: ",c.offer.company.name,""),n.Fb(2),n.Ec("Puesto: ",c.offer.job.name,""),n.Fb(2),n.Ec("Provincia: ",c.offer.province.name,""),n.Fb(2),n.Ec("Municipio: ",c.offer.municipe.name,""),n.Fb(2),n.Ec("Fecha publicaci\xf3n: ",c.offer.date,""),n.Fb(2),n.Ec("Categor\xeda: ",c.offer.category.name,""),n.Fb(2),n.Ec("Tags: ",c.tagsFromOffer(),""),n.Fb(1),n.oc("ngIf",!n.lc(21,9,c.isSubscribed$)),n.Fb(2),n.oc("ngIf",n.lc(23,11,c.isSubscribed$)))},directives:[r.a,r.d,r.g,r.c,it.a,it.b,i.l,l.b],pipes:[i.b],styles:[""]}),t})()}];let at=(()=>{class t{}return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(c){return new(c||t)},imports:[[o.i.forChild(rt)],o.i]}),t})();var st=e("Yj9t"),bt=e("5dmV");e.d(c,"OffersModule",(function(){return ft}));let ft=(()=>{class t{}return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(c){return new(c||t)},imports:[[i.c,at,st.AuthModule,bt.a]]}),t})()}}]);